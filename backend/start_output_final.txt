
> labour-mobility-backend@1.0.0 start
> node server.js

âš ï¸  Google OAuth not configured - GOOGLE_CLIENT_ID and GOOGLE_CLIENT_SECRET not provided
Attempting to start server on port 5000

ğŸš€ Labour Mobility Management System API
ğŸ“¡ Server running on port 5000
ğŸŒ Environment: development
ğŸ“š API Documentation: http://localhost:5000/api-docs
ğŸ” Health Check: http://localhost:5000/health
  
[CRON] Cohort lifecycle jobs initialized
â° Cohort automation jobs initialized
Registration attempt with data: {
  firstName: 'nick',
  lastName: 'ihlyi',
  email: 'f@gmail.com',
  password: '12345678',
  role: 'Candidate'
}
Extracted roleName: Candidate roleId: undefined
âœ… Candidate profile created for: f@gmail.com
prisma:error 
Invalid `prisma.activityLog.create()` invocation in
/home/nick/WTI/backend/src/services/activityLogService.js:15:30

  12  */
  13 const createActivityLog = async (logData) => {
  14   try {
â†’ 15     await prisma.activityLog.create({
           data: {
             userId: 6,
             action: "USER_LOGIN",
             resource: "Auth",
             details: {
               email: "f@gmail.com"
             },
             ~~~~~~~~~~~~~~~~~~~~~~
             ipAddress: "::ffff:127.0.0.1",
             userAgent: "Mozilla/5.0 (X11; Linux x86_64; rv:146.0) Gecko/20100101 Firefox/146.0"
           }
         })

Argument `details`: Invalid value provided. Expected String or Null, provided Object.
Failed to create activity log: PrismaClientValidationError: 
Invalid `prisma.activityLog.create()` invocation in
/home/nick/WTI/backend/src/services/activityLogService.js:15:30

  12  */
  13 const createActivityLog = async (logData) => {
  14   try {
â†’ 15     await prisma.activityLog.create({
           data: {
             userId: 6,
             action: "USER_LOGIN",
             resource: "Auth",
             details: {
               email: "f@gmail.com"
             },
             ~~~~~~~~~~~~~~~~~~~~~~
             ipAddress: "::ffff:127.0.0.1",
             userAgent: "Mozilla/5.0 (X11; Linux x86_64; rv:146.0) Gecko/20100101 Firefox/146.0"
           }
         })

Argument `details`: Invalid value provided. Expected String or Null, provided Object.
    at wn (/home/nick/WTI/backend/node_modules/@prisma/client/runtime/library.js:29:1363)
    at $n.handleRequestError (/home/nick/WTI/backend/node_modules/@prisma/client/runtime/library.js:121:6958)
    at $n.handleAndLogRequestError (/home/nick/WTI/backend/node_modules/@prisma/client/runtime/library.js:121:6623)
    at $n.request (/home/nick/WTI/backend/node_modules/@prisma/client/runtime/library.js:121:6307)
    at async l (/home/nick/WTI/backend/node_modules/@prisma/client/runtime/library.js:130:9633)
    at async createActivityLog (/home/nick/WTI/backend/src/services/activityLogService.js:15:5)
    at async login (/home/nick/WTI/backend/src/controllers/authController.js:251:5) {
  clientVersion: '5.22.0'
}
ğŸ” getDashboardData - User ID from token: 6
ğŸ” getDashboardData - User email: f@gmail.com
ğŸ” getDashboardData - User ID from token: 6
ğŸ” getDashboardData - User email: f@gmail.com
ğŸ‘¤ getDashboardData - Candidate found: { id: 2, userId: 6, name: 'nick ihlyi' }
ğŸ“š getDashboardData - Enrollments found: 0
ğŸ“š getDashboardData - Enrollment IDs: []
ğŸ‘¤ getDashboardData - Candidate found: { id: 2, userId: 6, name: 'nick ihlyi' }
ğŸ“š getDashboardData - Enrollments found: 0
ğŸ“š getDashboardData - Enrollment IDs: []
ğŸ“Š Profile completion calculation: {
  candidateId: 2,
  fullName: 'nick ihlyi',
  userFirstName: 'nick',
  userLastName: 'ihlyi',
  profileCompletion: 6,
  completedFields: 13
}
ğŸ“Š Profile completion calculation: {
  candidateId: 2,
  fullName: 'nick ihlyi',
  userFirstName: 'nick',
  userLastName: 'ihlyi',
  profileCompletion: 6,
  completedFields: 13
}
ğŸ” getMyCourses - User ID from token: 6
ğŸ” getMyCourses - User email: f@gmail.com
ğŸ‘¤ getMyCourses - Candidate found: { id: 2, userId: 6 }
ğŸ” getMyCourses - User ID from token: 6
ğŸ” getMyCourses - User email: f@gmail.com
ğŸ“š getMyCourses - Query WHERE candidateId: 2
ğŸ“š getMyCourses - Enrollments found: 0
ğŸ“š getMyCourses - Enrollment details: []
ğŸ‘¤ getMyCourses - Candidate found: { id: 2, userId: 6 }
ğŸ“š getMyCourses - Query WHERE candidateId: 2
ğŸ“š getMyCourses - Enrollments found: 0
ğŸ“š getMyCourses - Enrollment details: []
ğŸ” getMyCourses - User ID from token: 6
ğŸ” getMyCourses - User email: f@gmail.com
ğŸ” getMyCourses - User ID from token: 6
ğŸ” getMyCourses - User email: f@gmail.com
ğŸ‘¤ getMyCourses - Candidate found: { id: 2, userId: 6 }
ğŸ‘¤ getMyCourses - Candidate found: { id: 2, userId: 6 }
ğŸ“š getMyCourses - Query WHERE candidateId: 2
ğŸ“š getMyCourses - Enrollments found: 0
ğŸ“š getMyCourses - Enrollment details: []
ğŸ“š getMyCourses - Query WHERE candidateId: 2
ğŸ“š getMyCourses - Enrollments found: 0
ğŸ“š getMyCourses - Enrollment details: []
ğŸ” getMyCourses - User ID from token: 6
ğŸ” getMyCourses - User email: f@gmail.com
ğŸ‘¤ getMyCourses - Candidate found: { id: 2, userId: 6 }
ğŸ“š getMyCourses - Query WHERE candidateId: 2
ğŸ“š getMyCourses - Enrollments found: 0
ğŸ“š getMyCourses - Enrollment details: []
ğŸ” getMyCourses - User ID from token: 6
ğŸ” getMyCourses - User email: f@gmail.com
ğŸ‘¤ getMyCourses - Candidate found: { id: 2, userId: 6 }
ğŸ“š getMyCourses - Query WHERE candidateId: 2
ğŸ“š getMyCourses - Enrollments found: 0
ğŸ“š getMyCourses - Enrollment details: []
